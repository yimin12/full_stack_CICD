(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a(237)},155:function(e,t,a){},233:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a.n(r),o=(a(155),a(68)),s=a(113),i=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},u=function(){return Object(s.a)("api/v1/students").then(i)},m=function(e){return Object(s.a)("api/v1/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(i)},d=a(241),E=a(62),f=a(248),g=a(67),h=a(242),p=a(115),y=a(49),b=a(89),S=a(244),w=a(251),k=a(249),v=a(250),O=a(252),I=a(53),j=a(253),T=a(254),x=a(255),A=a(256),C=a(257),F=a(66),N=a(247),P=a(245),D=a(239),B=a(240),L=a(246),M=a(142),H=function(e,t,a,n){n=n||"topRight",M.a[e]({message:t,description:a,placement:n})},R=function(e,t,a){return H("success",e,t,a)},z=function(e,t,a){return H("error",e,t,a)},J=F.a.Option,q=l.a.createElement(I.a,{style:{fontSize:24},spin:!0});var G=function(e){var t=e.showDrawer,a=e.setShowDrawer,r=e.fetchStudents,c=function(){return a(!1)},s=Object(n.useState)(!1),i=Object(o.a)(s,2),u=i[0],d=i[1];return l.a.createElement(N.a,{title:"Create new student",width:720,onClose:c,visible:t,bodyStyle:{paddingBottom:80},footer:l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement(y.a,{onClick:c,style:{marginRight:8}},"Cancel"))},l.a.createElement(P.a,{layout:"vertical",onFinishFailed:function(e){alert(JSON.stringify(e,null,2))},onFinish:function(e){d(!0),console.log(JSON.stringify(e,null,2)),m(e).then(function(){console.log("student added"),c(),R("Student successfully added","".concat(e.name," was added to the system")),r()}).catch(function(e){console.log(e),e.response.json().then(function(e){console.log(e),z("There was an issue","".concat(e.message," [").concat(e.status,"] [").concat(e.error,"]"),"bottomLeft")})}).finally(function(){d(!1)})},hideRequiredMark:!0},l.a.createElement(D.a,{gutter:16},l.a.createElement(B.a,{span:12},l.a.createElement(P.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter student name"}]},l.a.createElement(L.a,{placeholder:"Please enter student name"}))),l.a.createElement(B.a,{span:12},l.a.createElement(P.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter student email"}]},l.a.createElement(L.a,{placeholder:"Please enter student email"})))),l.a.createElement(D.a,{gutter:16},l.a.createElement(B.a,{span:12},l.a.createElement(P.a.Item,{name:"gender",label:"gender",rules:[{required:!0,message:"Please select a gender"}]},l.a.createElement(F.a,{placeholder:"Please select a gender"},l.a.createElement(J,{value:"MALE"},"MALE"),l.a.createElement(J,{value:"FEMALE"},"FEMALE"),l.a.createElement(J,{value:"OTHER"},"OTHER"))))),l.a.createElement(D.a,null,l.a.createElement(B.a,{span:12},l.a.createElement(P.a.Item,null,l.a.createElement(y.a,{type:"primary",htmlType:"submit"},"Submit")))),l.a.createElement(D.a,null,u&&l.a.createElement(p.a,{indicator:q}))))},K=(a(233),d.a.Header),U=d.a.Content,Y=d.a.Footer,Q=d.a.Sider,V=E.a.SubMenu,W=function(e){var t=e.name,a=t.trim();return 0===a.length?l.a.createElement(f.a,{icon:l.a.createElement(O.a,null)}):1===a.split(" ").length?l.a.createElement(f.a,null,t.charAt(0)):l.a.createElement(f.a,null,"".concat(t.charAt(0)).concat(t.charAt(t.length-1)))},X=function(e,t){(function(e){return Object(s.a)("api/v1/students/".concat(e),{method:"DELETE"}).then(i)})(e).then(function(){R("Student deleted","Student with id: ".concat(e," was deleted")),t()}).catch(function(e){e.response.json().then(function(e){console.log(e),z("There was an issue","".concat(e.message," [").concat(e.status,"] [").concat(e.error,"]"))})})},Z=function(e){return[{title:"",dataIndex:"avatar",key:"avatar",render:function(e,t){return l.a.createElement(W,{name:t.name})}},{title:"Id",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Actions",key:"actions",render:function(t,a){return l.a.createElement(g.a.Group,null,l.a.createElement(h.a,{placement:"topRight",title:"Are you sure to delete ".concat(a.name),onConfirm:function(){return X(a.id,e)},okText:"Yes",cancelText:"No"},l.a.createElement(g.a.Button,{value:"small"},"Delete")),l.a.createElement(g.a.Button,{value:"small"},"Edit"))}}]},$=l.a.createElement(I.a,{style:{fontSize:24},spin:!0});var _=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],m=s[1],f=Object(n.useState)(!0),g=Object(o.a)(f,2),h=g[0],I=g[1],F=Object(n.useState)(!1),N=Object(o.a)(F,2),P=N[0],D=N[1],B=function(){return u().then(function(e){return e.json()}).then(function(e){console.log(e),r(e)}).catch(function(e){console.log(e.response),e.response.json().then(function(e){console.log(e),z("There was an issue","".concat(e.message," [statusCode: ").concat(e.status,"] [").concat(e.error,"]"))})}).finally(function(){return I(!1)})};return Object(n.useEffect)(function(){console.log("component is mounted"),B()},[]),l.a.createElement(d.a,{style:{minHeight:"100vh"}},l.a.createElement(Q,{collapsible:!0,collapsed:i,onCollapse:m},l.a.createElement("div",{className:"logo"}),l.a.createElement(E.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},l.a.createElement(E.a.Item,{key:"1",icon:l.a.createElement(T.a,null)},"Option 1"),l.a.createElement(E.a.Item,{key:"2",icon:l.a.createElement(x.a,null)},"Option 2"),l.a.createElement(V,{key:"sub1",icon:l.a.createElement(O.a,null),title:"User"},l.a.createElement(E.a.Item,{key:"3"},"Tom"),l.a.createElement(E.a.Item,{key:"4"},"Bill"),l.a.createElement(E.a.Item,{key:"5"},"Alex")),l.a.createElement(V,{key:"sub2",icon:l.a.createElement(A.a,null),title:"Team"},l.a.createElement(E.a.Item,{key:"6"},"Team 1"),l.a.createElement(E.a.Item,{key:"8"},"Team 2")),l.a.createElement(E.a.Item,{key:"9",icon:l.a.createElement(C.a,null)},"Files"))),l.a.createElement(d.a,{className:"site-layout"},l.a.createElement(K,{className:"site-layout-background",style:{padding:0}}),l.a.createElement(U,{style:{margin:"0 16px"}},l.a.createElement(v.a,{style:{margin:"16px 0"}},l.a.createElement(v.a.Item,null,"User"),l.a.createElement(v.a.Item,null,"Bill")),l.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},h?l.a.createElement(p.a,{indicator:$}):a.length<=0?l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{onClick:function(){return D(!P)},type:"primary",shape:"round",icon:l.a.createElement(j.a,null),size:"small"},"Add New Student"),l.a.createElement(G,{showDrawer:P,setShowDrawer:D,fetchStudents:B}),l.a.createElement(b.a,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(G,{showDrawer:P,setShowDrawer:D,fetchStudents:B}),l.a.createElement(S.a,{dataSource:a,columns:Z(B),bordered:!0,title:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,null,"Number of students"),l.a.createElement(k.a,{count:a.length,className:"site-badge-count-4"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(y.a,{onClick:function(){return D(!P)},type:"primary",shape:"round",icon:l.a.createElement(j.a,null),size:"small"},"Add New Student"))},pagination:{pageSize:50},scroll:{y:500},rowKey:function(e){return e.id}})))),l.a.createElement(Y,{style:{textAlign:"center"}},"By Yimin Huang")))},ee=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,243)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),l(e),r(e),c(e)})};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(_,null)),document.getElementById("root")),ee()}},[[150,3,2]]]);
//# sourceMappingURL=main.83162523.chunk.js.map